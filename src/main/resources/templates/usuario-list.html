<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
    <head>
        <title>Listar Usuarios</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdn.datatables.net/2.3.2/css/dataTables.dataTables.css" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    </head>
    <body>
        <div th:insert="~{/Header.html :: header}"></div>
        <div th:insert="~{/Footer.html :: footer}"></div>
        <div class="Contenido_Main">        
            <div class="container">
                <div class="card">
                    <div class="card-header  text-white">
                        <i class="fa fa-database Icon_CardCont" ></i> Información de Usuarios
                    </div>
                    <div class="card-body">
                        <div>
                            <a class='btn btn-warning btn-sm btn-grid' href="/usuarios/nuevo"><span class="fa fa-plus"></span> Nuevo</a>                
                            <a class='btn btn-warning btn-sm btn-grid' href="/"><span class="fa fa-mail-reply-all"></span> Regresar</a>                
                            <a class='btn btn-warning btn-sm btn-grid' href="/usuarios"><span class="fa fa-flash"></span> Actualizar</a>                
                        </div>
                        <div class="table-responsive">
                            <table id="listar" class="display table-sm">      
                                <thead>
                                    <tr class="bg-info">                        
                                        <th scope="col">Id</th>
                                        <th scope="col">Email</th>
                                        <th scope="col">Password</th>
                                        <th scope="col">Activo</th>
                                        <th scope="col">Rol</th>
                                        <th scope="col" width="200">Operaciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="usuario : ${usuarios}">
                                        <td th:text="${usuario.Id}"></td>
                                        <td th:text="${usuario.Email}"></td>
                                        <td th:text="${usuario.Password}"></td>
                                        <td th:text="${usuario.Activo}"></td>
                                        <td th:text="${usuario.rol.Nombre}"></td>
                                        <td>
                                            <a class="btn btn-outline-info btn-sm" th:href="@{/usuarios/editar/{id}(id=${usuario.id})}"><span class="fa fa-folder-open"></span> Editar</a>
                                            <a class="btn btn-danger btn-sm" th:href="@{/usuarios/eliminar/{id}(id=${usuario.id})}"><span class="fa fa-trash"></span> Eliminar</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.js"></script>    
            <script src="https://cdn.datatables.net/2.3.2/js/dataTables.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>    
    </body>
    <script type="text/javascript">
        $('#listar').DataTable({
        "lengthMenu": [5, 10, 25, 50, 75, 100],
        "pageLength": 5,
        "records": 5,
        "recordsFiltered": 10,
        "language": {
        "sProcessing": "Procesando...",
        "sLengthMenu": "Mostrar _MENU_ Registros",
        "sZeroRecords": "No se encontraron resultados",
        "sEmptyTable": "Ningún dato disponible en esta tabla",
        "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ Registros",
        "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 Registros",
        "sInfoFiltered": "(filtrado de un total de _MAX_ Registros)",
        "sInfoPostFix": "",
        "sSearch": "Buscar:",
        "sUrl": "",
        "sInfoThousands": ",",
        "sLoadingRecords": "Cargando...",
        "oPaginate": {
        "sFirst": "Primero",
        "sLast": "Último",
        "sNext": "Siguiente",
        "sPrevious": "Anterior"
        }
        }
        });

    </script>
</html>